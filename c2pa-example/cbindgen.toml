language = "C"
include_guard = "C2PA_H"
pragma_once = true
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */"
include_version = true
namespace = "c2pa"
cpp_compat = true
style = "both"

[export]
include = ["C2paContext", "C2paSettings", "C2paError"]

[defines]
"target_os = windows" = "WINDOWS"
"target_os = macos" = "MACOS"
"target_os = linux" = "LINUX"

# Manually add error enum to ensure it's exported
after_includes = """
/// Error codes for C2PA operations (100+)
typedef enum C2paError {
    C2PA_ERROR_INVALID_SETTINGS = 100,
    C2PA_ERROR_SIGNER = 101,
    C2PA_ERROR_CONTEXT = 102,
    C2PA_ERROR_INVALID_FORMAT = 103,
    C2PA_ERROR_IO = 104,
    C2PA_ERROR_SERIALIZATION = 105,
} C2paError;
"""
